local spaced_bytes = "02 80 00 00 00 00 01 1B 4f"

local raw_full_data = "023d030000007b1b4a6f62206e616d653d542c204c617374207072696e74656420646174653d30332f31392f323032342c4c617374207072696e7465642074696d653d30313a33303a313620504d2c204c6173742065646974656420646174653d30332f31392f323032342c4c617374206564697465642074696d653d30313a32393a303320504d0c4a6f62206e616d653d54484953204a4f42204e414d45204953204e4f54204c4f4e4720454e4f55474820464f522053414d4d415254494e4f2c204c617374207072696e74656420646174653d2c4c617374207072696e7465642074696d653d2c204c6173742065646974656420646174653d30342f30332f323032342c4c617374206564697465642074696d653d30393a32343a323320414d0c4a6f62206e616d653d5556204a6f622c204c617374207072696e74656420646174653d30332f31392f323032342c4c617374207072696e7465642074696d653d30313a34313a313520504d2c204c6173742065646974656420646174653d30332f31392f323032342c4c617374206564697465642074696d653d30313a34303a333920504d0c4a6f62206e616d653d56656761205043204a6f622c204c617374207072696e74656420646174653d30342f31352f323032342c4c617374207072696e7465642074696d653d30333a30373a333720504d2c204c6173742065646974656420646174653d30332f32322f323032342c4c617374206564697465642074696d653d31303a31353a343920414d0c4a6f62206e616d653d566567612d3733322c204c617374207072696e74656420646174653d30382f33312f323032332c4c617374207072696e7465642074696d653d31313a34313a333820414d2c204c6173742065646974656420646174653d30392f30352f323032332c4c617374206564697465642074696d653d30393a35323a353620414d0c4a6f62206e616d653d74657374342c204c617374207072696e74656420646174653d30342f30332f323032342c4c617374207072696e7465642074696d653d30333a32333a353320504d2c204c6173742065646974656420646174653d30332f31392f323032342c4c617374206564697465642074696d653d30313a33383a343220504d0c03"

local raw_data = "4a6f62206e616d653d542c204c617374207072696e74656420646174653d30332f31392f323032342c4c617374207072696e7465642074696d653d30313a33303a313620504d2c204c6173742065646974656420646174653d30332f31392f323032342c4c617374206564697465642074696d653d30313a32393a303320504d0c4a6f62206e616d653d54484953204a4f42204e414d45204953204e4f54204c4f4e4720454e4f55474820464f522053414d4d415254494e4f2c204c617374207072696e74656420646174653d2c4c617374207072696e7465642074696d653d2c204c6173742065646974656420646174653d30342f30332f323032342c4c617374206564697465642074696d653d30393a32343a323320414d0c4a6f62206e616d653d5556204a6f622c204c617374207072696e74656420646174653d30332f31392f323032342c4c617374207072696e7465642074696d653d30313a34313a313520504d2c204c6173742065646974656420646174653d30332f31392f323032342c4c617374206564697465642074696d653d30313a34303a333920504d0c4a6f62206e616d653d56656761205043204a6f622c204c617374207072696e74656420646174653d30342f31352f323032342c4c617374207072696e7465642074696d653d30333a30373a333720504d2c204c6173742065646974656420646174653d30332f32322f323032342c4c617374206564697465642074696d653d31303a31353a343920414d0c4a6f62206e616d653d566567612d3733322c204c617374207072696e74656420646174653d30382f33312f323032332c4c617374207072696e7465642074696d653d31313a34313a333820414d2c204c6173742065646974656420646174653d30392f30352f323032332c4c617374206564697465642074696d653d30393a35323a353620414d0c4a6f62206e616d653d74657374342c204c617374207072696e74656420646174653d30342f30332f323032342c4c617374207072696e7465642074696d653d30333a32333a353320504d2c204c6173742065646974656420646174653d30332f31392f323032342c4c617374206564697465642074696d653d30313a33383a343220504d0c"

local hex_dump_data = [[0000  4a 6f 62 20 6e 61 6d 65  3d 54 2c 20 4c 61 73 74   Job name =T, Last
0010  20 70 72 69 6e 74 65 64  20 64 61 74 65 3d 30 33    printed  date=03
0020  2f 31 39 2f 32 30 32 34  2c 4c 61 73 74 20 70 72   /19/2024 ,Last pr
0030  69 6e 74 65 64 20 74 69  6d 65 3d 30 31 3a 33 30   inted ti me=01:30
0040  3a 31 36 20 50 4d 2c 20  4c 61 73 74 20 65 64 69   :16 PM,  Last edi
0050  74 65 64 20 64 61 74 65  3d 30 33 2f 31 39 2f 32   ted date =03/19/2
0060  30 32 34 2c 4c 61 73 74  20 65 64 69 74 65 64 20   024,Last  edited 
0070  74 69 6d 65 3d 30 31 3a  32 39 3a 30 33 20 50 4d   time=01: 29:03 PM
0080  0c 4a 6f 62 20 6e 61 6d  65 3d 54 48 49 53 20 4a   ·Job nam e=THIS J
0090  4f 42 20 4e 41 4d 45 20  49 53 20 4e 4f 54 20 4c   OB NAME  IS NOT L
00A0  4f 4e 47 20 45 4e 4f 55  47 48 20 46 4f 52 20 53   ONG ENOU GH FOR S
00B0  41 4d 4d 41 52 54 49 4e  4f 2c 20 4c 61 73 74 20   AMMARTIN O, Last 
00C0  70 72 69 6e 74 65 64 20  64 61 74 65 3d 2c 4c 61   printed  date=,La
00D0  73 74 20 70 72 69 6e 74  65 64 20 74 69 6d 65 3d   st print ed time=
00E0  2c 20 4c 61 73 74 20 65  64 69 74 65 64 20 64 61   , Last e dited da
00F0  74 65 3d 30 34 2f 30 33  2f 32 30 32 34 2c 4c 61   te=04/03 /2024,La
0100  73 74 20 65 64 69 74 65  64 20 74 69 6d 65 3d 30   st edite d time=0
0110  39 3a 32 34 3a 32 33 20  41 4d 0c 4a 6f 62 20 6e   9:24:23  AM·Job n
0120  61 6d 65 3d 55 56 20 4a  6f 62 2c 20 4c 61 73 74   ame=UV J ob, Last
0130  20 70 72 69 6e 74 65 64  20 64 61 74 65 3d 30 33    printed  date=03
0140  2f 31 39 2f 32 30 32 34  2c 4c 61 73 74 20 70 72   /19/2024 ,Last pr
0150  69 6e 74 65 64 20 74 69  6d 65 3d 30 31 3a 34 31   inted ti me=01:41
0160  3a 31 35 20 50 4d 2c 20  4c 61 73 74 20 65 64 69   :15 PM,  Last edi
0170  74 65 64 20 64 61 74 65  3d 30 33 2f 31 39 2f 32   ted date =03/19/2
0180  30 32 34 2c 4c 61 73 74  20 65 64 69 74 65 64 20   024,Last  edited 
0190  74 69 6d 65 3d 30 31 3a  34 30 3a 33 39 20 50 4d   time=01: 40:39 PM
01A0  0c 4a 6f 62 20 6e 61 6d  65 3d 56 65 67 61 20 50   ·Job nam e=Vega P
01B0  43 20 4a 6f 62 2c 20 4c  61 73 74 20 70 72 69 6e   C Job, L ast prin
01C0  74 65 64 20 64 61 74 65  3d 30 34 2f 31 35 2f 32   ted date =04/15/2
01D0  30 32 34 2c 4c 61 73 74  20 70 72 69 6e 74 65 64   024,Last  printed
01E0  20 74 69 6d 65 3d 30 33  3a 30 37 3a 33 37 20 50    time=03 :07:37 P
01F0  4d 2c 20 4c 61 73 74 20  65 64 69 74 65 64 20 64   M, Last  edited d
0200  61 74 65 3d 30 33 2f 32  32 2f 32 30 32 34 2c 4c   ate=03/2 2/2024,L
0210  61 73 74 20 65 64 69 74  65 64 20 74 69 6d 65 3d   ast edit ed time=
0220  31 30 3a 31 35 3a 34 39  20 41 4d 0c 4a 6f 62 20   10:15:49  AM·Job 
0230  6e 61 6d 65 3d 56 65 67  61 2d 37 33 32 2c 20 4c   name=Veg a-732, L
0240  61 73 74 20 70 72 69 6e  74 65 64 20 64 61 74 65   ast prin ted date
0250  3d 30 38 2f 33 31 2f 32  30 32 33 2c 4c 61 73 74   =08/31/2 023,Last
0260  20 70 72 69 6e 74 65 64  20 74 69 6d 65 3d 31 31    printed  time=11
0270  3a 34 31 3a 33 38 20 41  4d 2c 20 4c 61 73 74 20   :41:38 A M, Last 
0280  65 64 69 74 65 64 20 64  61 74 65 3d 30 39 2f 30   edited d ate=09/0
0290  35 2f 32 30 32 33 2c 4c  61 73 74 20 65 64 69 74   5/2023,L ast edit
02A0  65 64 20 74 69 6d 65 3d  30 39 3a 35 32 3a 35 36   ed time= 09:52:56
02B0  20 41 4d 0c 4a 6f 62 20  6e 61 6d 65 3d 74 65 73    AM·Job  name=tes
02C0  74 34 2c 20 4c 61 73 74  20 70 72 69 6e 74 65 64   t4, Last  printed
02D0  20 64 61 74 65 3d 30 34  2f 30 33 2f 32 30 32 34    date=04 /03/2024
02E0  2c 4c 61 73 74 20 70 72  69 6e 74 65 64 20 74 69   ,Last pr inted ti
02F0  6d 65 3d 30 33 3a 32 33  3a 35 33 20 50 4d 2c 20   me=03:23 :53 PM, 
0300  4c 61 73 74 20 65 64 69  74 65 64 20 64 61 74 65   Last edi ted date
0310  3d 30 33 2f 31 39 2f 32  30 32 34 2c 4c 61 73 74   =03/19/2 024,Last
0320  20 65 64 69 74 65 64 20  74 69 6d 65 3d 30 31 3a    edited  time=01:
0330  33 38 3a 34 32 20 50 4d  0c                        38:42 PM ·
]]

local carray_data = [[char packet_bytes[] = {
  0x4a, 0x6f, 0x62, 0x20, 0x6e, 0x61, 0x6d, 0x65,
  0x3d, 0x54, 0x2c, 0x20, 0x4c, 0x61, 0x73, 0x74,
  0x20, 0x70, 0x72, 0x69, 0x6e, 0x74, 0x65, 0x64,
  0x20, 0x64, 0x61, 0x74, 0x65, 0x3d, 0x30, 0x33,
  0x2f, 0x31, 0x39, 0x2f, 0x32, 0x30, 0x32, 0x34,
  0x2c, 0x4c, 0x61, 0x73, 0x74, 0x20, 0x70, 0x72,
  0x69, 0x6e, 0x74, 0x65, 0x64, 0x20, 0x74, 0x69,
  0x6d, 0x65, 0x3d, 0x30, 0x31, 0x3a, 0x33, 0x30,
  0x3a, 0x31, 0x36, 0x20, 0x50, 0x4d, 0x2c, 0x20,
  0x4c, 0x61, 0x73, 0x74, 0x20, 0x65, 0x64, 0x69,
  0x74, 0x65, 0x64, 0x20, 0x64, 0x61, 0x74, 0x65,
  0x3d, 0x30, 0x33, 0x2f, 0x31, 0x39, 0x2f, 0x32,
  0x30, 0x32, 0x34, 0x2c, 0x4c, 0x61, 0x73, 0x74,
  0x20, 0x65, 0x64, 0x69, 0x74, 0x65, 0x64, 0x20,
  0x74, 0x69, 0x6d, 0x65, 0x3d, 0x30, 0x31, 0x3a,
  0x32, 0x39, 0x3a, 0x30, 0x33, 0x20, 0x50, 0x4d,
  0x0c, 0x4a, 0x6f, 0x62, 0x20, 0x6e, 0x61, 0x6d,
  0x65, 0x3d, 0x54, 0x48, 0x49, 0x53, 0x20, 0x4a,
  0x4f, 0x42, 0x20, 0x4e, 0x41, 0x4d, 0x45, 0x20,
  0x49, 0x53, 0x20, 0x4e, 0x4f, 0x54, 0x20, 0x4c,
  0x4f, 0x4e, 0x47, 0x20, 0x45, 0x4e, 0x4f, 0x55,
  0x47, 0x48, 0x20, 0x46, 0x4f, 0x52, 0x20, 0x53,
  0x41, 0x4d, 0x4d, 0x41, 0x52, 0x54, 0x49, 0x4e,
  0x4f, 0x2c, 0x20, 0x4c, 0x61, 0x73, 0x74, 0x20,
  0x70, 0x72, 0x69, 0x6e, 0x74, 0x65, 0x64, 0x20,
  0x64, 0x61, 0x74, 0x65, 0x3d, 0x2c, 0x4c, 0x61,
  0x73, 0x74, 0x20, 0x70, 0x72, 0x69, 0x6e, 0x74,
  0x65, 0x64, 0x20, 0x74, 0x69, 0x6d, 0x65, 0x3d,
  0x2c, 0x20, 0x4c, 0x61, 0x73, 0x74, 0x20, 0x65,
  0x64, 0x69, 0x74, 0x65, 0x64, 0x20, 0x64, 0x61,
  0x74, 0x65, 0x3d, 0x30, 0x34, 0x2f, 0x30, 0x33,
  0x2f, 0x32, 0x30, 0x32, 0x34, 0x2c, 0x4c, 0x61,
  0x73, 0x74, 0x20, 0x65, 0x64, 0x69, 0x74, 0x65,
  0x64, 0x20, 0x74, 0x69, 0x6d, 0x65, 0x3d, 0x30,
  0x39, 0x3a, 0x32, 0x34, 0x3a, 0x32, 0x33, 0x20,
  0x41, 0x4d, 0x0c, 0x4a, 0x6f, 0x62, 0x20, 0x6e,
  0x61, 0x6d, 0x65, 0x3d, 0x55, 0x56, 0x20, 0x4a,
  0x6f, 0x62, 0x2c, 0x20, 0x4c, 0x61, 0x73, 0x74,
  0x20, 0x70, 0x72, 0x69, 0x6e, 0x74, 0x65, 0x64,
  0x20, 0x64, 0x61, 0x74, 0x65, 0x3d, 0x30, 0x33,
  0x2f, 0x31, 0x39, 0x2f, 0x32, 0x30, 0x32, 0x34,
  0x2c, 0x4c, 0x61, 0x73, 0x74, 0x20, 0x70, 0x72,
  0x69, 0x6e, 0x74, 0x65, 0x64, 0x20, 0x74, 0x69,
  0x6d, 0x65, 0x3d, 0x30, 0x31, 0x3a, 0x34, 0x31,
  0x3a, 0x31, 0x35, 0x20, 0x50, 0x4d, 0x2c, 0x20,
  0x4c, 0x61, 0x73, 0x74, 0x20, 0x65, 0x64, 0x69,
  0x74, 0x65, 0x64, 0x20, 0x64, 0x61, 0x74, 0x65,
  0x3d, 0x30, 0x33, 0x2f, 0x31, 0x39, 0x2f, 0x32,
  0x30, 0x32, 0x34, 0x2c, 0x4c, 0x61, 0x73, 0x74,
  0x20, 0x65, 0x64, 0x69, 0x74, 0x65, 0x64, 0x20,
  0x74, 0x69, 0x6d, 0x65, 0x3d, 0x30, 0x31, 0x3a,
  0x34, 0x30, 0x3a, 0x33, 0x39, 0x20, 0x50, 0x4d,
  0x0c, 0x4a, 0x6f, 0x62, 0x20, 0x6e, 0x61, 0x6d,
  0x65, 0x3d, 0x56, 0x65, 0x67, 0x61, 0x20, 0x50,
  0x43, 0x20, 0x4a, 0x6f, 0x62, 0x2c, 0x20, 0x4c,
  0x61, 0x73, 0x74, 0x20, 0x70, 0x72, 0x69, 0x6e,
  0x74, 0x65, 0x64, 0x20, 0x64, 0x61, 0x74, 0x65,
  0x3d, 0x30, 0x34, 0x2f, 0x31, 0x35, 0x2f, 0x32,
  0x30, 0x32, 0x34, 0x2c, 0x4c, 0x61, 0x73, 0x74,
  0x20, 0x70, 0x72, 0x69, 0x6e, 0x74, 0x65, 0x64,
  0x20, 0x74, 0x69, 0x6d, 0x65, 0x3d, 0x30, 0x33,
  0x3a, 0x30, 0x37, 0x3a, 0x33, 0x37, 0x20, 0x50,
  0x4d, 0x2c, 0x20, 0x4c, 0x61, 0x73, 0x74, 0x20,
  0x65, 0x64, 0x69, 0x74, 0x65, 0x64, 0x20, 0x64,
  0x61, 0x74, 0x65, 0x3d, 0x30, 0x33, 0x2f, 0x32,
  0x32, 0x2f, 0x32, 0x30, 0x32, 0x34, 0x2c, 0x4c,
  0x61, 0x73, 0x74, 0x20, 0x65, 0x64, 0x69, 0x74,
  0x65, 0x64, 0x20, 0x74, 0x69, 0x6d, 0x65, 0x3d,
  0x31, 0x30, 0x3a, 0x31, 0x35, 0x3a, 0x34, 0x39,
  0x20, 0x41, 0x4d, 0x0c, 0x4a, 0x6f, 0x62, 0x20,
  0x6e, 0x61, 0x6d, 0x65, 0x3d, 0x56, 0x65, 0x67,
  0x61, 0x2d, 0x37, 0x33, 0x32, 0x2c, 0x20, 0x4c,
  0x61, 0x73, 0x74, 0x20, 0x70, 0x72, 0x69, 0x6e,
  0x74, 0x65, 0x64, 0x20, 0x64, 0x61, 0x74, 0x65,
  0x3d, 0x30, 0x38, 0x2f, 0x33, 0x31, 0x2f, 0x32,
  0x30, 0x32, 0x33, 0x2c, 0x4c, 0x61, 0x73, 0x74,
  0x20, 0x70, 0x72, 0x69, 0x6e, 0x74, 0x65, 0x64,
  0x20, 0x74, 0x69, 0x6d, 0x65, 0x3d, 0x31, 0x31,
  0x3a, 0x34, 0x31, 0x3a, 0x33, 0x38, 0x20, 0x41,
  0x4d, 0x2c, 0x20, 0x4c, 0x61, 0x73, 0x74, 0x20,
  0x65, 0x64, 0x69, 0x74, 0x65, 0x64, 0x20, 0x64,
  0x61, 0x74, 0x65, 0x3d, 0x30, 0x39, 0x2f, 0x30,
  0x35, 0x2f, 0x32, 0x30, 0x32, 0x33, 0x2c, 0x4c,
  0x61, 0x73, 0x74, 0x20, 0x65, 0x64, 0x69, 0x74,
  0x65, 0x64, 0x20, 0x74, 0x69, 0x6d, 0x65, 0x3d,
  0x30, 0x39, 0x3a, 0x35, 0x32, 0x3a, 0x35, 0x36,
  0x20, 0x41, 0x4d, 0x0c, 0x4a, 0x6f, 0x62, 0x20,
  0x6e, 0x61, 0x6d, 0x65, 0x3d, 0x74, 0x65, 0x73,
  0x74, 0x34, 0x2c, 0x20, 0x4c, 0x61, 0x73, 0x74,
  0x20, 0x70, 0x72, 0x69, 0x6e, 0x74, 0x65, 0x64,
  0x20, 0x64, 0x61, 0x74, 0x65, 0x3d, 0x30, 0x34,
  0x2f, 0x30, 0x33, 0x2f, 0x32, 0x30, 0x32, 0x34,
  0x2c, 0x4c, 0x61, 0x73, 0x74, 0x20, 0x70, 0x72,
  0x69, 0x6e, 0x74, 0x65, 0x64, 0x20, 0x74, 0x69,
  0x6d, 0x65, 0x3d, 0x30, 0x33, 0x3a, 0x32, 0x33,
  0x3a, 0x35, 0x33, 0x20, 0x50, 0x4d, 0x2c, 0x20,
  0x4c, 0x61, 0x73, 0x74, 0x20, 0x65, 0x64, 0x69,
  0x74, 0x65, 0x64, 0x20, 0x64, 0x61, 0x74, 0x65,
  0x3d, 0x30, 0x33, 0x2f, 0x31, 0x39, 0x2f, 0x32,
  0x30, 0x32, 0x34, 0x2c, 0x4c, 0x61, 0x73, 0x74,
  0x20, 0x65, 0x64, 0x69, 0x74, 0x65, 0x64, 0x20,
  0x74, 0x69, 0x6d, 0x65, 0x3d, 0x30, 0x31, 0x3a,
  0x33, 0x38, 0x3a, 0x34, 0x32, 0x20, 0x50, 0x4d,
  0x0c
};
]]


local short_data = "303320504d0c4a6f62206e"

local function split_raw_data_on_byte(buffer, sep)
  for byte in buffer:gmatch "%x%x" do
    print("#" .. byte)
  end
end


local function mysplit (inputstr, sep)
  if sep == nil then
    sep = "0c"
  end
  
  local t={}
  for str in string.gmatch(inputstr, "([^"..sep.."]+)") do
    table.insert(t, str)
  end
  return t
end

local foo = mysplit(short_data, '0C')
for _,v in pairs(foo) do
  print(v)
end
